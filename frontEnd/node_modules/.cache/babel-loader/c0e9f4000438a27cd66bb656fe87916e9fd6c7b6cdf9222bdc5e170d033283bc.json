{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProdutoList(){const[produtos,setProdutos]=useState([]);const[novoProduto,setNovoProduto]=useState('');const[loading,setLoading]=useState(false);// Carregar produtos ao iniciar\nuseEffect(()=>{carregarProdutos();},[]);// Função para buscar produtos do backend\nconst carregarProdutos=async()=>{try{setLoading(true);const response=await api.get('/produto');// Chama GET /api/produto\nsetProdutos(response.data);}catch(error){console.error('Erro ao carregar produtos:',error);alert('Erro ao carregar produtos');}finally{setLoading(false);}};// Função para adicionar produto\nconst adicionarProduto=async()=>{if(!novoProduto.trim())return;try{const produto={nome:novoProduto};const response=await api.post('/produto',produto);// Chama POST /api/produto\n// Adiciona o novo produto à lista\nsetProdutos([...produtos,response.data]);setNovoProduto('');alert('Produto adicionado com sucesso!');}catch(error){console.error('Erro ao adicionar produto:',error);alert('Erro ao adicionar produto');}};// Função para deletar produto\nconst deletarProduto=async id=>{try{await api.delete(\"/produto/\".concat(id));// Chama DELETE /api/produto/{id}\nsetProdutos(produtos.filter(p=>p.id!==id));alert('Produto deletado com sucesso!');}catch(error){console.error('Erro ao deletar produto:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de Produtos\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:novoProduto,onChange:e=>setNovoProduto(e.target.value),placeholder:\"Nome do produto\",style:{padding:'8px',marginRight:'10px'}}),/*#__PURE__*/_jsx(\"button\",{onClick:adicionarProduto,style:{padding:'8px 16px'},children:\"Adicionar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:carregarProdutos,style:{marginLeft:'10px',padding:'8px 16px'},children:\"Atualizar\"})]}),loading?/*#__PURE__*/_jsx(\"p\",{children:\"Carregando...\"}):/*#__PURE__*/_jsx(\"ul\",{children:produtos.map((produto,index)=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'10px'},children:[produto.nome||produto,/*#__PURE__*/_jsx(\"button\",{onClick:()=>deletarProduto(produto.id||index),style:{marginLeft:'10px',padding:'5px 10px'},children:\"Excluir\"})]},produto.id||index))})]});}export default ProdutoList;","map":{"version":3,"names":["React","useState","useEffect","api","jsx","_jsx","jsxs","_jsxs","ProdutoList","produtos","setProdutos","novoProduto","setNovoProduto","loading","setLoading","carregarProdutos","response","get","data","error","console","alert","adicionarProduto","trim","produto","nome","post","deletarProduto","id","delete","concat","filter","p","children","style","marginBottom","type","value","onChange","e","target","placeholder","padding","marginRight","onClick","marginLeft","map","index"],"sources":["/Users/henriquebraga/Desktop/ESTUDOS/UNICEUB/semestre_6/desenvolvimento_sistema/CSharp/avaliacao_2/EstoqueSolution/frontEnd/src/components/ProdutoList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport api from '../services/api';\n\nfunction ProdutoList() {\n  const [produtos, setProdutos] = useState([]);\n  const [novoProduto, setNovoProduto] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  // Carregar produtos ao iniciar\n  useEffect(() => {\n    carregarProdutos();\n  }, []);\n\n  // Função para buscar produtos do backend\n  const carregarProdutos = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get('/produto'); // Chama GET /api/produto\n      setProdutos(response.data);\n    } catch (error) {\n      console.error('Erro ao carregar produtos:', error);\n      alert('Erro ao carregar produtos');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Função para adicionar produto\n  const adicionarProduto = async () => {\n    if (!novoProduto.trim()) return;\n\n    try {\n      const produto = { nome: novoProduto };\n      const response = await api.post('/produto', produto); // Chama POST /api/produto\n      \n      // Adiciona o novo produto à lista\n      setProdutos([...produtos, response.data]);\n      setNovoProduto('');\n      alert('Produto adicionado com sucesso!');\n    } catch (error) {\n      console.error('Erro ao adicionar produto:', error);\n      alert('Erro ao adicionar produto');\n    }\n  };\n\n  // Função para deletar produto\n  const deletarProduto = async (id) => {\n    try {\n      await api.delete(`/produto/${id}`); // Chama DELETE /api/produto/{id}\n      setProdutos(produtos.filter(p => p.id !== id));\n      alert('Produto deletado com sucesso!');\n    } catch (error) {\n      console.error('Erro ao deletar produto:', error);\n    }\n  };\n\n  return (\n    <div>\n      <h2>Lista de Produtos</h2>\n      \n      {/* Formulário para adicionar */}\n      <div style={{ marginBottom: '20px' }}>\n        <input\n          type=\"text\"\n          value={novoProduto}\n          onChange={(e) => setNovoProduto(e.target.value)}\n          placeholder=\"Nome do produto\"\n          style={{ padding: '8px', marginRight: '10px' }}\n        />\n        <button onClick={adicionarProduto} style={{ padding: '8px 16px' }}>\n          Adicionar\n        </button>\n        <button onClick={carregarProdutos} style={{ marginLeft: '10px', padding: '8px 16px' }}>\n          Atualizar\n        </button>\n      </div>\n\n      {/* Lista de produtos */}\n      {loading ? (\n        <p>Carregando...</p>\n      ) : (\n        <ul>\n          {produtos.map((produto, index) => (\n            <li key={produto.id || index} style={{ marginBottom: '10px' }}>\n              {produto.nome || produto}\n              <button \n                onClick={() => deletarProduto(produto.id || index)}\n                style={{ marginLeft: '10px', padding: '5px 10px' }}\n              >\n                Excluir\n              </button>\n            </li>\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default ProdutoList;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}